<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
            integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script type="text/javascript" src="/scripts/jquery.bootpag.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<style type="text/css">

    .bgNegativeSum {
        background: red;
    }

    .bgPositiveSum {
        background: yellowgreen;
    }

    .fgNegativeSum {
        color: white;
    }

    .fgPositiveSum {
        color: black;
    }

     .newline {
         display: flex;
         -moz-flex-wrap: wrap;
         -ms-flex-wrap: wrap;
         -o-flex-wrap: wrap;
         -webkit-flex-wrap: wrap;
         flex-wrap: wrap;
         justify-content: left; /* for horizontal aligning of child divs */
         align-items: left; /* for vertical aligning */
     }

    .row-fluid {
        display: flex;
    }

    .col {
        border: solid 1px #6c757d;
        padding: 10px;
    }

    .btn {
        width: 150px;
    }

    .input-group-text {
        width: 110px;
    }

    .fixed150 {
        width: 150px;
    }
</style>
<script>
    function openMailDialog(url) {
        $('#modalMailContent').load(url,
            function() {
                $('#mailModal').modal('show');
            });
    }

    $(function() {
        //mail list
        if ({allowMailBool}) {
            $('#mail-page-selection').bootpag({
                total: totalMailPages!!,
                page: 1,
                maxVisible: 20
            }).on("page",
                function(event, num) {
                    $("#mail-content").load('{mailListUrl}' + num);
                });
            $("#mail-content").load('{mailListUrl}1');
        }
        if ({allowWalletBool}) {
            //transfers list
            $('#tr-page-selection').bootpag({
                total: totalTransactPages!!,
                page: 1,
                maxVisible: 20
            }).on("page",
                function(event, num) {
                    $("#tr-content").load('{transactListUrl}' + num);
                });
            $("#tr-content").load('{transactListUrl}1');
            //journal list
            $('#journal-page-selection').bootpag({
                total: totalJournalPages!!,
                page: 1,
                maxVisible: 20
            }).on("page",
                function(event, num) {
                    $("#journal-content").load('{journalListUrl}' + num);
                });
            $("#journal-content").load('{journalListUrl}1');
        }
        if ({allowCharStatsBool}) {
            //Last Year stats
            $('#lys-page-selection').bootpag({
                total: totalLysPages!!,
                page: 1,
                maxVisible: 20
            }).on("page",
                function(event, num) {
                    $("#lys-content").load('{lysListUrl}' + num);
                });
            $("#lys-content").load('{lysListUrl}1');
        }
        if ({allowContractsBool}) {
            //contracts
            $('#contract-page-selection').bootpag({
                total: totalcontractsPages!!,
                page: 1,
                maxVisible: 20
            }).on("page",
                function(event, num) {
                    $("#contract-content").load('{contractsListUrl}' + num);
                });
            $("#contract-content").load('{contractsListUrl}1');
        }
        if ({allowContactsBool}) {
            //contracts
            $('#contacts-page-selection').bootpag({
                total: totalcontactsPages!!,
                page: 1,
                maxVisible: 20
            }).on("page",
                function(event, num) {
                    $("#contacts-content").load('{contactsListUrl}' + num);
                });
            $("#contacts-content").load('{contactsListUrl}1');
        }
    });

    function goBack() {
        location.href = '{backUrl}';
    }

</script>
<body>
    <div class="container">
        <input type="hidden" id="timerCharId" value="{charId}">
        <a class="btn btn-primary" href="{backUrl}" role="button" style="margin: 10px;">{Back}</a>
        <ul class="nav nav-pills float-right">{loggedInAs}<a href="{LogOutUrl}" style="margin-left:10px; margin-right: 30px;">{LogOut}</a></ul>

        <div class="container-fluid">
            <h2 style="text-align: center;">{header}</h2>
            <div class="row">
                <!-- Images column-->
                <div class="col-xl-5 col-lg-5">
                    <div class="container-fluid">
                        <div class="row-fluid">
                            <div class="col left-img" style="padding:0px;" width="64">
                                <div style="background-color:black"><img height="64" width="64" style="margin: 0.5em" src="{imgCorp}" alt="corp logo"></div>
                                <div style="background-color:black" class="{disableAlly}"><img height="64" width="64" style="margin: 0.5em" src="{imgAlly}" alt="alli logo"></div>
                            </div>
                            <div width="256" class="col char-img" style="background-color:black"><img src="{imgChar}" alt="character image" style="display: block; margin: 0 auto;"></div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-5 col-lg-5">
                    <div class="row-fluid">
                        {hrmInspectChar}:&nbsp; <a href="{zkillChar}">{charName}</a>
                    </div>
                    <div class="row-fluid">
                        {hrmInspectCorp}:&nbsp; <a href="{zkillCorp}">{charCorpName}</a>
                    </div>
                    <div class="row-fluid {disableAlly}">
                        {hrmInspectAlly}:&nbsp; <a href="{zkillAlly}">{charAllyName}</a>
                    </div>
                    <div class="row-fluid">
                        {hrmInspectSS}:&nbsp; {secStatus}
                    </div>
                    <div class="row-fluid">
                        {hrmInspectBirth}:&nbsp; {charBirthday}
                    </div>

                    <div class="row-fluid {disableSP}">
                        SP:&nbsp; {totalSP}
                    </div>
                </div>
            </div>
            <div style="margin-top:20px; text-align: center;"><h2 style="text-align: center;">Detailed Data</h2></div>
            <div class="row" style="margin-top: 20px; margin-left: 15px;">
                <nav>
                    <div class="nav nav-tabs" id="nav-tab" role="tablist">
                        <a class="nav-item nav-link active" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">{tabCorpHistory}</a>
                        <a class="nav-item nav-link {disableMail}" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">{tabMail}</a>
                        <a class="nav-item nav-link {disableContracts}" id="nav-contract-tab" data-toggle="tab" href="#nav-contract" role="tab" aria-controls="nav-contract" aria-selected="false">{tabContracts}</a>
                        <a class="nav-item nav-link {disableWallet}" id="nav-transfers-tab" data-toggle="tab" href="#nav-transfers" role="tab" aria-controls="nav-transfers" aria-selected="false">{tabTransfers}</a>
                        <a class="nav-item nav-link {disableWallet}" id="nav-journal-tab" data-toggle="tab" href="#nav-journal" role="tab" aria-controls="nav-journal" aria-selected="false">{tabJournal}</a>
                        <a class="nav-item nav-link {disableCharStats}" id="nav-lys-tab" data-toggle="tab" href="#nav-lys" role="tab" aria-controls="nav-lys" aria-selected="false">{tabLastYearStats}</a>
                        <a class="nav-item nav-link {disableContacts}" id="nav-contacts-tab" data-toggle="tab" href="#nav-contacts" role="tab" aria-controls="nav-contacts" aria-selected="false">{tabContacts}</a>
                    </div>
                </nav>
            </div>
            <div class="row" style="margin-top: 20px; margin-left: 15px;">
                <div class="tab-content" id="nav-tabContent">
                    <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">
                        <table class="table">
                            {corpHistoryTable}
                        </table>
                    </div>
                    <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                        <div id="mail-content">Loading...</div>
                        <div id="mail-page-selection"></div>
                    </div>
                    <div class="tab-pane fade" id="nav-contract" role="tabpanel" aria-labelledby="nav-contract-tab">
                        <div id="contract-content">Loading...</div>
                        <div id="contract-page-selection"></div>
                    </div>
                    <div class="tab-pane fade" id="nav-transfers" role="tabpanel" aria-labelledby="nav-transfers-tab">
                        <div id="tr-content">Loading...</div>
                        <div id="tr-page-selection"></div>
                    </div>
                    <div class="tab-pane fade" id="nav-journal" role="tabpanel" aria-labelledby="nav-journal-tab">
                        <div id="journal-content">Loading...</div>
                        <div id="journal-page-selection"></div>
                    </div>
                    <div class="tab-pane fade" id="nav-lys" role="tabpanel" aria-labelledby="nav-lys-tab">
                        <div id="lys-content">Loading...</div>
                        <div id="lys-page-selection"></div>
                    </div>
                    <div class="tab-pane fade" id="nav-contacts" role="tabpanel" aria-labelledby="nav-contacts-tab">
                        <div id="contacts-content">Loading...</div>
                        <div id="contacts-page-selection"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Mail Dialog -->


<div class="modal fade" id="mailModal" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header newline" style="align-content: center;">
                <h5 class="modal-title">{mailHeader}</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <div class="modal-body">    
                    <div id="modalMailContent"/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-default" data-dismiss="modal">{Close}</button>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>
